# 0.0.3 — Config/Profiles hardening + effective-config artifacts + release gate stabilization

This release focuses on making the demo repo more reliable to drive via conversation:

- **Profiles** become a practical way to switch embedding/tokenizer/vector settings without editing project config.
- **Effective config artifacts** are now written deterministically (stable vs runtime) to make “what config did we actually run with?” auditable.
- **Release check Phase2** is stabilized (doctor + pytest + topic smoke) and produces pinned reports under the release topic.

No server runtime is included (by design).

## Highlights

- Profiles
  - `--profile` shorthand now prefers project-local profiles under `.kano/backlog_config/<ref>.toml`, with a fallback to `<repo_root>/<ref>.toml`.
  - Profile configs support both nested tables and legacy flat keys (mapped into nested structure).
- Effective config artifacts
  - Stable: `.kano/cache/effective_backlog_config.toml` (written when the merged project/product config changes).
  - Runtime: `.kano/cache/effective_runtime_backlog_config.toml` (only written when profile/topic/workset overrides are present).
- Local dev env auto-load
  - CLI auto-loads `env/local.secrets.env` by default.
  - Override with `--env-file <path>` or `KANO_ENV_FILE`.
  - Existing environment variables are not overwritten.
- Embeddings
  - Added Gemini embedding provider support (google-genai) with a ready-to-use profile.

## Release check evidence

- Phase2 report (PASS): `_kano/backlog/topics/release-0-0-3/publish/release_check_0.0.3_phase2.md`
- Phase1 report (version checks): `_kano/backlog/topics/release-0-0-3/publish/release_check_0.0.3_phase1.md`
  - Note: Phase1 will fail if `README.md` still contains stale version references.

## Migration notes (from 0.0.2)

- If you used `.kano/debug/` for config inspection, switch to:
  - `.kano/cache/effective_backlog_config.toml`
  - `.kano/cache/effective_runtime_backlog_config.toml`
- If you used profile shorthands, be aware of the new precedence:
  - `.kano/backlog_config/<ref>.toml` is preferred first.
  - If missing, fallback checks `<repo_root>/<ref>.toml`.
- If you rely on secrets for embedding providers, you can keep them out of git and place them in `env/local.secrets.env`.

## Known limitations

- No server / MCP / HTTP runtime (local-first only)
- Documentation is catching up; treat the release topic reports as the source of truth when in doubt
